<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_fix">
    <sys_script_fix action="INSERT_OR_UPDATE">
        <before>false</before>
        <description/>
        <name>clean up prmopt text</name>
        <record_for_rollback>true</record_for_rollback>
        <script><![CDATA[var sDebug = ' print from function ';
test();
gs.info(sDebug);
/*
**Access Flow/Action data using the fd_data object. Script must return a value. 
**Order number is offset by +1 in Error Handling Section.
**Available options display upon pressing "." after fd_data
**example: var shortDesc = fd_data.trigger.current.short_description;
**return shortDesc;
*/
function test() {
	
var grtopic = new GlideRecord('x_146833_awesome_0_topic');
grtopic.get('27dc8a00c389d61049521d12b40131b7');
var department = grtopic.unit.course.department.name;
var course = grtopic.unit.course.name;
sDebug += ' course = ' + course + "\n";
var unit = grtopic.unit.name;
var topic = grtopic.name;
var suggestedReading = grtopic.unit.course.suggested_reading;
 var promptText = 'Explain about' + topic + ' Provide response as a ' + department + ' professor '  + ' this is related to course ' + course + ' suggested reading ' + suggestedReading;
 //sDebug += ' promptText = ' + promptText + "\n";
 var promptTextFmtd = 'who are you' ;
 var searchRegExp ;
 ///\s/g;
var replaceWith = ' ';
	var sReading = promptText;
	//sDebug += ' sReading = ' + sReading + "\n";
	sReading = sReading.replace(searchRegExp,replaceWith);
	searchRegExp = /\\'/g;
	sReading = sReading.replace(/,/g,replaceWith);
	searchRegExp = /\\n/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	//sDebug += ' sReading1 = ' + sReading + "\n";
	searchRegExp= /\\"/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	//sDebug += ' sReading2 = ' + sReading + "\n";
	searchRegExp = /&/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	//sDebug += ' sReading3 = ' + sReading + "\n";
	searchRegExp = /\\r/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	searchRegExp = /\\t/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	searchRegExp = /\\b/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	searchRegExp = /\\f/g;
	sReading = sReading.replace(searchRegExp,replaceWith);
	promptTextFmtd = sReading;
	sDebug += ' promptTextFmtd = ' + promptTextFmtd + "\n";
    return promptTextFmtd;
 //You are <department> professor of course <Course> question is on <topic> suggested reading <Suggested reading without new line>
}]]></script>
        <sys_class_name>sys_script_fix</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-30 04:17:13</sys_created_on>
        <sys_id>aff09ac4c389d61049521d12b4013199</sys_id>
        <sys_mod_count>19</sys_mod_count>
        <sys_name>clean up prmopt text</sys_name>
        <sys_package display_value="AwesomeOllamaConnector" source="x_146833_awesome_0">4128bd45c3fcda1049521d12b4013194</sys_package>
        <sys_policy/>
        <sys_scope display_value="AwesomeOllamaConnector">4128bd45c3fcda1049521d12b4013194</sys_scope>
        <sys_update_name>sys_script_fix_aff09ac4c389d61049521d12b4013199</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-30 05:39:07</sys_updated_on>
        <unloadable>false</unloadable>
    </sys_script_fix>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>aff09ac4c389d61049521d12b4013199</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-30 04:17:12</sys_created_on>
        <sys_id>de711ac4c389d61049521d12b40131ee</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-30 04:17:12</sys_updated_on>
        <table>sys_script_fix</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
</record_update>
